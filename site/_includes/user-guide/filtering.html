<h2 id="3">3. Filtering records</h2>

<p>You can filter records through the <code><em>RecordFilter</em></code> API. This interface allows you to skip records from being processed if they satisfy a given predicate.</p>

<p>A typical example is to filter comment records (those beginning with #) in a flat file. Another example is to filter
log files (with extension <em>.log</em>) when processing a set of files in a directory.</p>

<p>To register a record filter, you can use the <code><em>EngineBuilder</em></code> API as follow:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder()
    <strong>.filter(new myRecordFilter())</strong>
    .build();</code></pre>
</div>

<p>Easy Batch applies a filter chain on each record, so you can register as many filters as you want. They will be applied
on the same order in which you register them. the engine will stop the chain on first applied filter.</p>

<p>There are several built-in implementations for commonly used filters:</p>

<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <p class="pull-center"><img class="ebi" src="../img/eb/filter-uml.jpg"/></p>
    </div>
</div>

<ul>
    <li><code>HeaderRecordFilter</code> : convenient filter to skip a header record in a flat file</li>
    <li><code>StartWithStringRecordFilter</code> : filters a string record if its payload starts with one of the given prefixes.</li>
    <li><code>EndWithStringRecordFilter</code> : filters a string record if its payload ends with one of the given suffixes.</li>
    <li><code>RecordNumberEqualsToFilter</code> : filters a record if its number is equal to one of the given numbers.</li>
    <li><code>RecordNumberGreaterThanFilter</code> : filters a record if its number is greater than a given number</li>
    <li><code>RecordNumberLowerThanFilter</code> : filters a record if its number is lower than a given number</li>
    <li><code>RecordNumberBetweenFilter</code> : filters a record if its number is inside a given number range</li>
    <li><code>FileExtensionFilter</code> : filters a file record if its extension has one of the given extensions.</li>
    <li><code>PoisonRecordFilter</code> : filters poison records (End-Of-Stream records) submitted to a queue.</li>
</ul>

<p>Please refer to the Javadoc of the <code><em>org.easybatch.core.filter</em></code> package for all details about built-in record filters.</p>

<div class="bs-callout bs-callout-warning">
    <h5><i class="fa fa-info-circle"></i> Heads up!</h5>
    <p>Registering a record filter is <strong>optional</strong>. By default, Easy Batch registers a NoOp record filter that does not filter any input record.</p>
</div>

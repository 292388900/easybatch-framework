---
layout: template
menu : tutorial
title : Job scheduling with Quartz
---
              <h2>1. Introduction</h2>

              <p>Easy Batch engine implements the <code><em>java.util.concurrent.Callable</em></code> interface so it can be easily scheduled
                  using the <code><em>java.util.concurrent.ScheduledExecutorService</em></code> API. Here is a quick example:</p>

<div class="bs-callout bs-callout-code">
<pre><code class="java">Engine engine = new EngineBuilder().build();
ScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(5);
ScheduledFuture scheduledFuture = scheduledExecutorService.schedule(engine, 5, TimeUnit.SECONDS);</code></pre>
</div>

              <p>The <code><em>java.util.concurrent.ScheduledExecutorService</em></code> is limited in terms of scheduling features, that's why Easy Batch provides an integration module with the popular Java scheduler <a href="http://quartz-scheduler.org/" target="_blank">Quartz</a>.</p>

              <p>In this tutorial, you will learn how to schedule an Easy Batch instance using the built-in <code><em>EasyBatchScheduler</em></code> API.</p>
             <p>This API acts as a bridge so that you do not need to deal with Quartz low level APIs.</p>

              <h2 id="quartzTutorial">2. Try it out</h2>

              <p>First, you need to add the <code>easybatch-quartz</code> module to your project dependencies:</p>

        <div class="bs-callout bs-callout-code">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.easybatch&lt;/groupId&gt;
    &lt;artifactId&gt;easybatch-quartz&lt;/artifactId&gt;
    &lt;version&gt;{{ site.version }}&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
        </div>
              <p>Then you can use the <code><em>EasyBatchScheduler</em></code> API to schedule Easy Batch executions:</p>
              <ul>
                  <li>At a fixed point of time using <code><em>scheduleAt(Date when)</em></code></li>
                  <li>Repeatedly with predefined interval using <code><em>scheduleAtWithInterval(Date when, int interval)</em></code></li>
                  <li>Using unix cron-like expression with <code><em>scheduleCron(String cronExpression)</em></code></li>
              </ul>

              <p>For all details about these APIs, please refer to the Javadoc of the <code>org.easybatch.tools.scheduling</code> package.</p>

              <p>The listing below shows how to schedule the <a href="./helloworld.html" target="_blank">Hello World tutorial</a> to run every minute:</p>

        <div class="bs-callout bs-callout-code">
<pre><code class="java">public class Launcher {

    public static void main(String[] args) throws Exception {

        // Create the data source
        String dataSource =
            "1,foo,easy batch rocks! #EasyBatch\n" +
            "2,bar,@foo I do confirm :-)";

        // Build a batch engine
        Engine engine = new EngineBuilder()
            .reader(new StringRecordReader(dataSource))
            .processor(new TweetProcessor())
            .build();

        <strong>// Schedule the engine to start now and run every minute
        BatchScheduler scheduler = new BatchScheduler(engine);
        scheduler.scheduleAtWithInterval(new Date(), 1);
        scheduler.start();</strong>
    }
}</code></pre>
        </div>

<h2>3. Run the tutorial</h2>

<h3>3.1 From the command line</h3>

<p>To run the tutorial from scratch, follow these steps:</p>

<div class="bs-callout bs-callout-code">
<pre><code>$>git clone https://github.com/benas/easy-batch.git
$>cd easy-batch
$>mvn install
$>cd easybatch-tutorials
$>mvn exec:java -PrunQuartzTutorial
</code></pre>
</div>

<p>If everything is ok, you will see in the console that Easy Batch engine will run every minute.</p>

<h3>3.2 From your IDE</h3>

<p>First, you need to checkout the source code of the tutorial available <a href="https://github.com/benas/easy-batch/tree/master/easybatch-tutorials/src/main/java/org/easybatch/tutorials/advanced/quartz" target="_blank">here</a>:</p>

<div class="bs-callout bs-callout-code">
    <pre><code>$>git clone https://github.com/benas/easy-batch.git</code></pre>
</div>

<p>If you do not have git installed, you can download a zip file containing the project's source code from GitHub
    <a href="https://github.com/benas/easy-batch/archive/easybatch-{{ site.version }}.zip">here</a>.</p>

<p>Then, import the <code><em>easybatch-tutorials</em></code> module in you favorite IDE and resolve maven dependencies.</p>

<p>Finally, run the <code><em>org.easybatch.tutorials.advanced.quartz.Launcher</em></code> class without any argument.</p>

<h2>3. Summary</h2>

<p>In this tutorial, you have learned how to schedule job executions using the Quartz integration module provided by Easy Batch.
    Thanks to this module, you can configure job scheduling without the need to deal with Quartz's low level API.</p>

<h2>4. What's next?</h2>

<p>If you are a <a href="http://spring.io" target="_blank">Spring</a> fan, the next tutorial is for you! You will learn how to configure Easy Batch as a Spring bean.</p>

<nav>
    <ul class="pager">
        <li class="previous"><a href="./jmx.html"><span aria-hidden="true">&larr;</span> Job monitoring with JMX</a></li>
        <li class="next"><a href="./spring.html">Job configuration with Spring <span aria-hidden="true">&rarr;</span></a></li>
    </ul>
</nav>

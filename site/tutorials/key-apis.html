---
layout: template
menu : tutorial
title : Key APIs Tutorial
---

<h2 id="1">1. Description</h2>

<p>This tutorial will show you how to build a very simple batch application to process a in-memory data source.
    We will process text records containing tweets and simply print them out to the console (remember, it is a hello world sample ;-))
    Here are the tweets:</p>

<pre><code class="java">1,foo,easy batch rocks! #EasyBatch
    2,bar,@foo I do confirm :-)</code></pre>

<p>Each record is composed of:</p>
<ul>
    <li>The tweet id</li>
    <li>The user name</li>
    <li>The tweet content</li>
</ul>

<p>Easy Batch development is POJO-centric, so we would like to map each record to an instance of the following <code>Tweet</code> bean:</p>

<pre><code class="java">public class Tweet {

    private int id;

    private String user;

    private String message;

    // Getters, Setters and toString omitted

    }</code></pre>

<p>Each field in the text record should be mapped to the corresponding field of the <code>Tweet</code> bean.</p>

<p>Let's get started!</p>

<h2 id="2">2. Implementing the Tweet processor</h2>

<p>With Easy Batch, you only write your batch processing logic and let the framework take care of the boilerplate code of reading, filtering, parsing and mapping records to domain objects.</p>
<p>Let's implement our batch processing logic:</p>

<pre><code class="java">public class TweetProcessor implements RecordProcessor&lt;StringRecord, StringRecord&gt; {

    public StringRecord processRecord(StringRecord record) throws Exception {
    System.out.println(record.getPayload());
    return record;
    }

    }</code></pre>

<p>This processor will print out tweets to the console as required.</p>
<p>That's all for the business logic, we should now configure Easy Batch engine to:<p>
<ol>
    <li>Read records from the String data source</li>
    <li>Map each record to an instance of the <code>Tweet</code> bean</li>
    <li>Process each record using our <code>TweetProcessor</code></li>
</ol>

<p>The following listing provides this configuration:</p>

<pre><code class="java">public class Launcher {

    public static void main(String[] args) throws Exception {

    // Create the String data source
    String dataSource =
    "1,foo,easy batch rocks! #EasyBatch\n" +
    "2,bar,@foo I do confirm :-)";

    // Build a batch engine
    Engine engine = new EngineBuilder()
    .reader(new StringRecordReader(dataSource))
    .processor(new TweetProcessor())
    .build();

    // Run the batch engine
    Report report = engine.call();

    // Print the batch execution report
    System.out.println(report);

    }

    }</code></pre>

<p>That's all, let's run the tutorial and see the result.</p>

<h2 id="3">3. Running the batch</h2>

<p>The complete source code of this tutorial is available <a href="https://github.com/benas/easy-batch/tree/master/easybatch-tutorials/src/main/java/org/easybatch/tutorials/helloworld/memory" target="_blank">here</a>.

<p>To run the tutorial with maven, launch the following command in the <code>easybatch-tutorials</code> directory :</p>

<p>
    <kbd><i class="fa fa-terminal"></i> mvn exec:java -PrunHelloWorldTutorial</kbd>
</p>

<p>If you run the tutorial as described above, you should see something like the following output in the console :</p>

<pre><code>INFO: Initializing easy batch engine
    INFO: Data source: In-Memory String
    INFO: Strict mode: false
    INFO: Total records = 2
    INFO: easy batch engine is running...
    INFO: Shutting down easy batch engine
    1,foo,easy batch rocks! #EasyBatch
    2,bar,@foo I do confirm :-)</code></pre>

<h2 id="4">4. Conclusion</h2>

<p>In this tutorial, you have learned how create, configure and run a Easy Batch engine to process data from a data source.</p>

<p>All we have done is :</p>
<ul>
    <li>Implementing the business logic of our batch</li>
    <li>Providing configuration meta data</li>
</ul>

<p>Easy Batch handled all the boilerplate code of reading, filtering, parsing and mapping String records to
    instances of our domain object <code>Tweet</code>.</p>

<p>The following table summarizes what we have done and what Easy Batch has done for us:</p>

<table class="table table-bordered table-condensed table-striped">
    <thead>
    <tr class="info">
        <th>Task</th>
        <th class="pull-center">You</th>
        <th class="pull-center">Easy Batch</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Provide configuration meta data</td>
        <td class="pull-center"><i class="fa fa-check-circle-o"></i></td>
        <td></td>
    </tr>
    <tr>
        <td>Provide record processing logic</td>
        <td class="pull-center"><i class="fa fa-check-circle-o"></i></td>
        <td></td>
    </tr>
    <tr>
        <td>Read input String record by record</td>
        <td></td>
        <td class="pull-center"><i class="fa fa-check-circle-o"></i></td>
    </tr>
    <tr>
        <td>Map records to domain objects</td>
        <td></td>
        <td class="pull-center"><i class="fa fa-check-circle-o"></i></td>
    </tr>
    <tr>
        <td>Apply business processing logic</td>
        <td></td>
        <td class="pull-center"><i class="fa fa-check-circle-o"></i></td>
    </tr>
    </tbody>
</table>